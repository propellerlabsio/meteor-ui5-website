/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./lib/_Helper","./lib/_Parser"],function(_,a){"use strict";var O,r=/^\w+$/;function i(g,A){if(typeof g==="string"&&r.test(g)){return true;}if(!A){return g===undefined||g==="$auto"||g==="$direct";}return false;}O={buildBindingParameters:function(p){var R={};if(p){Object.keys(p).forEach(function(k){var v=p[k];if(k.indexOf("$$")!==0){return;}if(k!=="$$groupId"&&k!=="$$updateGroupId"){throw new Error("Unsupported binding parameter: "+k);}if(!i(v)){throw new Error("Unsupported value '"+v+"' for binding parameter '"+k+"'");}R[k]=v;});}return R;},buildQueryOptions:function(m,o,A,s){var R=JSON.parse(JSON.stringify(m||{}));function v(e){var c;if(typeof e==="object"){for(c in e){b(c,e[c]);}}}function b(c,V){var p;if(!A||A.indexOf(c)<0){throw new Error("System query option "+c+" is not supported");}if(c==="$expand"){for(p in V){v(V[p]);}}}if(o){Object.keys(o).forEach(function(k){var V=o[k];if(k.indexOf("$$")===0){return;}if(k[0]==="@"){throw new Error("Parameter "+k+" is not supported");}if(k[0]==="$"){if((k==="$expand"||k==="$select")&&typeof V==="string"){V=a.parseSystemQueryOption(k+"="+V)[k];}b(k,V);}else if(!s&&k.indexOf("sap-")===0){throw new Error("Custom query option "+k+" is not supported");}R[k]=V;});}return R;},checkGroupId:function(g,A,e){if(!i(g,A)){throw new Error((e||"Invalid group ID: ")+g);}},getKeyPredicate:function(e,E){var k=[];e.$Key.forEach(function(n){var t=e[n].$Type,v=_.formatLiteral(E[n],t);k.push(encodeURIComponent(n)+"="+encodeURIComponent(v));});return"("+k.join(",")+")";}};return O;},false);
