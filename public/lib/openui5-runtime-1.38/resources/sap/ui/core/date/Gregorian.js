/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global','./UniversalDate','sap/ui/core/Locale','sap/ui/core/LocaleData'],function(q,U,L,a){"use strict";var G=U.extend("sap.ui.core.date.Gregorian",{constructor:function(){this.oDate=this.createDate(Date,arguments);this.sCalendarType=sap.ui.core.CalendarType.Gregorian;}});G.UTC=function(){return Date.UTC.apply(Date,arguments);};G.now=function(){return Date.now();};G.prototype.getWeek=function(){return this._calculateWeekNumber(this.oDate);};G.prototype.getUTCWeek=function(){return this._calculateWeekNumber(this.oDate,{UTC:true});};G.prototype._calculateWeekNumber=function(d,p){var D={UTC:false,locale:sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString()};q.extend(D,p);if(D.baseYear===undefined){D.baseYear=D.UTC?d.getUTCFullYear():d.getFullYear();}var u=D.UTC,y=D.baseYear,l=D.locale;var w=0,W=0,o=new L(l),b=a.getInstance(o),f=b.getFirstDayOfWeek(),P=d.constructor.prototype;var s=u?P.setUTCFullYear:P.setFullYear,S=u?P.setUTCDate:P.setDate,g=u?P.getUTCDate:P.getDate,c=u?P.getUTCDay:P.getDay,e=u?P.setUTCMonth:P.setMonth;var h=function(d){return new d.constructor(d.getTime());};if(o.getLanguage()==="en"&&o.getRegion()==="US"){var j=h(d);s.apply(j,[y,0,1]);W=c.apply(j);var C=h(d);S.apply(C,[g.apply(C)-c.apply(C)+W]);w=Math.round((C.getTime()-j.getTime())/86400000/7)+1;}else{var t=h(d);S.apply(t,[g.apply(t)-f]);W=c.apply(t);S.apply(t,[g.apply(t)-W+4]);var F=h(t);e.apply(F,[0,1]);W=c.apply(F);var A=0;if(W>4){A=7;}var i=h(F);S.apply(i,[1-W+4+A]);w=Math.round((t.getTime()-i.getTime())/86400000/7)+1;}return w;};return G;});
